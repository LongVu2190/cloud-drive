<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Files</title>
  <link rel="stylesheet" href="../public/styles/loader.css">
  <script src="../public/scripts/loading.js"></script>
  <script src="../public/tailwind/tailwind.js"></script>
</head>

<body>
  <div id="loading" class="absolute z-50 flex items-center justify-center h-screen w-screen">
    <div class="loader">
      <svg viewBox="0 0 80 80">
        <circle id="test" cx="40" cy="40" r="32"></circle>
      </svg>
    </div>
    <div class="loader triangle">
      <svg viewBox="0 0 86 80">
        <polygon points="43 8 79 72 7 72"></polygon>
      </svg>
    </div>
    <div class="loader">
      <svg viewBox="0 0 80 80">
        <rect x="8" y="8" width="64" height="64"></rect>
      </svg>
    </div>
  </div>
  
  <div id="page-content" class="z-10 p-8">
    <a href="/" type="button"
       class="text-white bg-blue-600 hover:bg-blue-700 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2">Upload</a>
    <h2 class="mb-2 text-lg font-semibold text-gray-900">Public Files</h2>
    <ul class="max-w-md space-y-1 text-black list-inside">
      <% for (let i=0; i < files.length; i++) { %>
        <li class="flex items-center">
          <svg class="w-3.5 h-3.5 me-2 text-green-500 dark:text-green-400 flex-shrink-0" aria-hidden="true"
               xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
            <path
                  d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" />
          </svg>
          <form action="/api/delete" method="post" enctype="multipart/form-data">
            <input name="filename" value="<%= files[i] %>" type="hidden">
            <input type="submit" value="Delete"
                   class="mt-1 focus:outline-none text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:ring-red-900 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2">
          </form>
          <a href="/disk/<%= files[i] %>">
            <%= files[i] %>
          </a>
        </li>
        <% }; %>
    </ul>
  </div>

</body>

</html>